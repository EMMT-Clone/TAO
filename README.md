# A framework for real-time software
[![License](http://img.shields.io/badge/license-MIT-brightgreen.svg?style=flat)](LICENSE.md)
[![Build Status](https://travis-ci.org/emmt/TAO.svg?branch=master)](https://travis-ci.org/emmt/TAO)

TAO was initially designed as a software framework to carry the real-time
processing needed by adaptive optics (AO) systems.

TAO exploits the [XPA](https://github.com/ericmandel/xpa) messaging system for
the communication between clients and servers of the infrastruture.  For fast
exchanges of data, TAO uses [shared objects](./docs/sharedobjects.md) whose
contents is stored in shared memory.  For fast synchronization, TAO uses
semaphores.

## Documentation

* [Shared objects](./docs/sharedobjects.md).
* [Commands](./docs/commands.md).
* [Doxygen generated documentation](./docs/html/index.html).  (See [Generating
  the documentation](#generating-the-documentation) to build or re-build this
  part of the documentation.)

## Installation

### Generating the documentation

The HTML documentation can be (re-)generated by running `doxygen` from the top
directory of TAO software suite (packages `doxygen`, `doxygen-doc`,
`doxygen-gui` and `graphviz` must be installed):

```sh
sudo apt-get install doxygen doxygen-doc doxygen-gui graphviz
cd "$TAO_SRC_DIR"
doxygen
```

where `$TAO_SRC_DIR` is the top directory of the TAO source files (where is
this `README.md` file).


### Compilation and installation of TAO runtime library

You'll need GIT, a C compiler supporting [C99
standard](https://en.wikipedia.org/wiki/C99) and GNU autotools.  If they are
missing:

```sh
sudo apt-get install git build-essential autoconf automake libtool autotools-dev
```

If all required tools are installed:

```sh
git clone ... "$TAO_SRC_DIR"
cd "$TAO_SRC_DIR"
./bootstrap
```

where `$TAO_SRC_DIR` is the directory of the TAO source files (where is this
`README.md` file).  To build TAO runtime library into its source directory:


```sh
cd "$TAO_SRC_DIR"/libtao
./configure ...
make
make install
```

To build TAO runtime library into a specific build directory, say `$BUILD_DIR`,
just do:

```sh
mkdir -p "$BUILD_DIR"
cd "$BUILD_DIR"
"$TAO_SRC_DIR"/libtao/configure ...
make
make install
```

### Compilation of Phoenix TAO runtime library

Go to the [phoenix](./phoenix) directory, edit the
[Makefile](./phoenix/Makefile) and build everything:

```sh
make
```

### Compilation and installation Yorick plugin

Follow the instructions [here](./yorick/REAME.md).
